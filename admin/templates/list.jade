extends ./layout

block content
  .container
    .row: .col-xs-12: h1=title + ' List'
    .row: .col-xs-12
      table.table
        each member, index in collection
          if index === 0
            tr
              th='id'
              if sortOrder
                each key in sortOrder
                  if key !== 'id'
                    th=_.toProperCase(key)
              else
                each value, key in member
                  if key !== 'id'
                    th=_.toProperCase(key)
            tr
              td: a(href=baseUrl + '/' + title.toLowerCase() + '/' + member.id)=member.id
              if sortOrder
                each key in sortOrder
                  if key !== 'id'
                    td=member[key]
              else
                each value, key in member
                  if key !== 'id'
                    td=value
          else
            tr
              td: a(href=baseUrl + '/' + title.toLowerCase() + '/' + member.id)=member.id
              if sortOrder
                each key in sortOrder
                  if key !== 'id'
                    td=member[key]
              else
                each value, key in member
                  if key !== 'id'
                    td=value
    .row
      .col-md-2: a.btn.btn-info.btn-lg.btn-block(href=baseUrl + '/' + title.toLowerCase() + '/new') &plus; Add New
      .col-md-2: a.btn.btn-default.btn-lg.btn-block(href=baseUrl) Back
  block scripts
    script.
      const ADMIN_LOCALS = {
        baseUrl: "#{baseUrl}",
        modelName: "#{title}"
      };
    script(src=baseUrl + '/js/list.js')
